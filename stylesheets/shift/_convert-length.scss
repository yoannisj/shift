// =============================================================================
// =SHIFT - LENGTH
// =============================================================================

@import "aleksi/general/throw";
@import "aleksi/lengths/convert";

// =shift-convert-length( $value, $unit )
// -----------------------------------------------------------------------------
/// Convert a length value into the given unit. When converting from or to 'ems'
/// the media-queries' context is always 16px.
/// **Note:** Unitless values are considered as pixel values. This is so they
/// can be more easily shared with js scripts.
/// @link https://www.filamentgroup.com/lab/how-we-learned-to-leave-body-font-size-alone.html
///
/// @param {number} $value - The length value to convert
/// @param {string} $unit - A css unit keyword in which to convert `$length`
///
/// @return {number} - The value converted in `$unit` (using correct context length of 16px for media-queries)
/// @throw Description
///
/// @example scss
///   Example Code
///
/// @access public
/// @since 0.1.0

@function shift-convert-length( $value, $unit ) {
  // sanitize `$value`
  @if type-of($value) != 'number' {
    @return throw-error("`$value` must be a number. Was #{inspect($value)}");
  }

  // consider unitless values as pixel values
  $value: if(unitless($value), $value * 1px, $value);

  @return convert-length($value, $unit, 16px);
}